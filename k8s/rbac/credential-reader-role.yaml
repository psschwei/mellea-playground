# Role for reading secrets in mellea-credentials namespace
# Grants permission to read secrets managed by the credential service
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: mellea-credential-reader
  namespace: mellea-credentials
  labels:
    app.kubernetes.io/part-of: mellea
    mellea.io/component: credentials
rules:
  - apiGroups: [""]
    resources: ["secrets"]
    verbs: ["get"]
    # Only allow reading secrets with mellea credential label
  - apiGroups: [""]
    resources: ["secrets"]
    verbs: ["list"]
    # List is needed for projected volumes to verify secret existence
